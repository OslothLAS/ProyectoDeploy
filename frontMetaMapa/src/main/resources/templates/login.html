<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - MetaMapa</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
    <!-- Added DM Sans font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<!-- Same navbar as landing page -->
<div th:replace="~{layout/navbar :: navbar(false)}"></div>

<!-- Login form container -->
<main class="login-container">
    <div class="login-card">
        <div class="login-header">
            <h1>Iniciar Sesión</h1>
            <p>Accede a tu cuenta de MetaMapa</p>
        </div>

        <form class="login-form" action="/login" method="post">
            <div class="form-group">
                <label for="username">Usuario</label>
                <input
                        type="text"
                        id="username"
                        name="username"
                        placeholder="Ingresa tu nombre de usuario"
                        required
                >
            </div>

            <div class="form-group">
                <label for="password">Contraseña</label>
                <input
                        type="password"
                        id="password"
                        name="password"
                        placeholder="Ingresa tu contraseña"
                        required
                >
            </div>

            <button type="submit" class="login-btn">Iniciar Sesion</button>
        </form>

        <div class="forgot-password">
            <a href="#">¿Olvidaste tu contraseña?</a>
        </div>

        <div class="register-link">
            <p>¿No tienes una cuenta?</p>
            <a href="/register">Registrarse</a>
        </div>

        <div th:if="${param.error}" class="alert-error">
            ⚠️ Usuario o contraseña incorrectos
        </div>

    </div>
</main>

<div th:replace="~{layout/footer :: footer}"></div>

<script>
    lucide.createIcons();

    function handleLogin(event) {
        event.preventDefault();

        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;

        // Basic validation
        if (!username || !password) {
            alert('Por favor, completa todos los campos.');
            return;
        }

        // Here you would typically send the data to your server
        console.log('Login attempt:', { username, password });
        alert('Funcionalidad de login en desarrollo. Datos enviados a la consola.');
    }
</script>
</body>
</html>
